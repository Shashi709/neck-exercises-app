<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Neck Exercises Guide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    html, body {
      font-family: 'Inter', 'Segoe UI', Arial, sans-serif;
      background: #f6f8fa;
      margin:0; padding:0;
      min-height: 100%;
      color: #21232a;
      letter-spacing: 0.01em;
    }
    *, *:before, *:after { box-sizing: border-box; }

    h1 {
      text-align:center;
      color: #223366;
      margin:36px 0 18px 0;
      font-size:2.07em;
      font-weight: 800;
      letter-spacing: 0.05em;
      text-shadow: 0 1.5px 0 #e3e7ee;
    }

    .container {
      max-width:700px;
      margin:auto;
      padding:18px 10px 32px 10px;
    }

    .section-head {
      margin:38px 0 18px 0;
      font-size:1.14em;
      font-weight: 600;
      color:#4a6078;
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 1px 4px #c8d0db13;
      padding: 8px 18px;
      border: 1px solid #e5e9f1;
      position: relative;
    }

    .exercise-box {
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 6px 32px 0 #dde2ec40, 0 1px 2px #d9dee9;
      margin-bottom: 30px;
      padding: 28px 22px 20px 22px;
      position:relative;
      border: 1px solid #e5e9f1;
      transition: box-shadow 0.18s, border 0.16s;
    }
    .exercise-box.active {
      box-shadow: 0 10px 42px #c4cee355, 0 1.5px 6px #b8c9df42;
      border-color: #bccbe6;
    }

    .ex-header {
      display:flex; align-items:flex-start;
      margin-bottom:13px; gap:16px;
    }
    .ex-icon {
      min-width:56px; min-height:56px;
      width:56px; height:56px;
      background: #f5f7fb;
      border-radius: 10px;
      display:flex; align-items:center; justify-content:center;
      font-size:2.2em; flex-shrink:0; margin-top:2px;
      box-shadow: 0 1.5px 10px #e6eaf7, 0 2px 4px #f5f7fa inset;
      border: 1.5px solid #f1f4fa;
      transition: box-shadow 0.12s, border 0.15s;
    }
    .exercise-box.active .ex-icon {
      box-shadow: 0 3px 20px #c6d4ec80;
      border-color: #dde8f8;
    }

    .ex-content { flex:1;}
    .ex-title {
      font-weight:700;
      font-size:1.10em;
      color:#223366;
      margin-bottom:4px;
    }
    .ex-desc {
      color:#5a6271;
      font-size:1em;
      margin:5px 0 0 0;
      font-weight:400;
      line-height:1.52;
      letter-spacing:0.01em;
    }

    .inputs-row {
      margin:13px 0 8px 0;
      display:flex;
      gap:16px;
      align-items:center;
      flex-wrap:wrap;
    }
    label {
      font-size:0.99em;
      color:#425375;
      font-weight:500;
    }
    input[type='number'] {
      width:62px; padding:5px 10px;
      font-size:1em;
      border-radius:7px;
      border:1.3px solid #d2d9e7;
      background: #f8fafc;
      margin-left:7px;
      color:#223355;
      font-weight:600;
      box-shadow: 0 2px 7px #f4f7fa05;
      outline:none;
      transition: border 0.18s, box-shadow 0.17s;
    }
    input[type='number']:focus {
      border:2px solid #a1b4de;
      background: #fff;
    }
    input[type='number']:disabled {
      background: #f3f6fb;
      color: #a5aab3;
      border-color: #ebf0f8;
    }

    .btn-row {
      display:flex; gap:9px;
      margin-top:12px;
      flex-wrap:wrap;
    }
    button {
      padding:9px 23px;
      font-size:1.03em;
      border-radius:11px;
      border:none;
      font-weight:700;
      cursor:pointer;
      background: #f4f7fb;
      color:#2a3350;
      border: 1.2px solid #e5e9f1;
      box-shadow: 0 1.5px 8px #dde3ef20;
      transition: background 0.18s, box-shadow 0.15s, color 0.13s, border 0.14s, transform 0.12s;
    }
    button:hover, button:focus {
      background: #e9eef6;
      color: #003366;
      border-color: #c9d2e3;
      box-shadow: 0 4px 18px #ccd6e420;
    }
    button:active {
      background: #e0e8f2;
      color: #18223b;
      transform: scale(0.98);
    }
    .start {font-weight:800;}
    .pause {color:#aa7600;}
    .resume {color:#18604b;}
    .reset {color:#a43939;}
    button:disabled {
      background: #f3f5f9;
      color: #c5c7cb;
      cursor: not-allowed;
      border-color: #f3f5fa;
      box-shadow: none;
    }

    .counter-row {
      display:flex; gap:14px; align-items:center;
      margin:13px 0 2px 0; flex-wrap:wrap;
      font-size:1em;
    }
    .big-num {
      font-size:1.22em;
      color:#234288;
      min-width:28px;
      display:inline-block;
      font-weight:700;
    }
    .active .big-num,
    .big-num.pulse {
      color:#3063b1;
    }
    .total-time {
      font-size:0.97em;
      color:#57647d;
      background: #f4f6fa;
      padding: 3px 10px;
      border-radius: 6px;
      font-weight: 600;
      box-shadow: 0 0 7px #dce5f33b;
      border: 1.1px solid #e5eaf4;
      margin-left:4px;
    }

    .progress-txt {
      font-size:1.01em;
      font-weight:600;
      color:#397857;
      margin-top:8px;
      min-height: 16px;
      letter-spacing: 0.01em;
      padding-left: 2px;
    }
    .danger {
      color:#d94343;
      background: #f8f2f2;
      border-radius: 7px;
      padding: 7px 11px 6px 11px;
      font-weight:700;
      box-shadow: 0 0 12px #f2d0d0;
      margin-bottom: 15px;
      display:inline-block;
      border: 1.1px solid #efdddd;
      letter-spacing: 0.03em;
    }
    .warning {color:#ad7b0c;}
    .progress-txt.danger {animation: shake 0.35s 1;}
    .progress-txt.warning {animation: flashWarn 0.5s 1;}

    @keyframes shake {
      20% {transform: translateX(-4px);}
      40% {transform: translateX(5px);}
      60% {transform: translateX(-3px);}
      80% {transform: translateX(2px);}
      100% {transform: translateX(0);}
    }
    @keyframes flashWarn {
      0% {color:#eaaa13;}
      80% {color:#ad7b0c;}
      100% {color:#ad7b0c;}
    }
    .big-num.pulse {
      animation: pulseGrow 0.16s cubic-bezier(.57,.24,.77,1.36);
    }
    @keyframes pulseGrow {
      0% { transform: scale(1);}
      50% { transform: scale(1.15);}
      100% { transform: scale(1);}
    }

    @media (max-width: 700px){
      h1 {font-size: 1.2em;}
      .container{padding:7px 1.5vw;}
      .section-head{font-size: 0.98em; padding: 7px 6px;}
      .exercise-box{padding:10px 3px 7px 3px;}
      .ex-header{flex-direction:column; gap:7px;}
      .ex-icon{width:36px;min-width:36px;height:36px;min-height:36px;font-size:1.05em;}
      .btn-row button{width:99%; font-size:0.95em;}
      .counter-row{gap:7px;}
      .inputs-row{gap:7px;}
    }
    @media (max-width:400px){
      .exercise-box {padding:5px 1vw 5px 1vw;}
      .section-head{font-size:0.91em;}
      .ex-title{font-size:1.04em;}
    }
  </style>
</head>
<body>
  <h1>Neck Exercises Guide</h1>
  <div class="container" id="exerciseContainer">
    <div style="margin:16px 0 12px 0; text-align:center;">
      <span class="danger">If you experience any pain, STOP exercising immediately!</span>
    </div>
  </div>
  <!-- Use Google beep sound for max compatibility -->
  <audio id="beep-sound" src="https://actions.google.com/sounds/v1/alarms/beep_short.ogg"></audio>
<script>
const exerciseSections = [
  {
    title: "Warm-up Exercises",
    exercises: [
      {
        name: "Neck Rotation",
        icon: "üîÑ",
        description: "Slowly turn your head left and right. Don't force, stay gentle.",
        defaultReps: 10, defaultSeconds: 10
      },
      {
        name: "Neck Side Bending",
        icon: "‚ÜîÔ∏è",
        description: "Slowly bend your head so your ear moves towards shoulder (left/right). Shoulders relaxed.",
        defaultReps: 10, defaultSeconds: 10
      }
    ]
  },
  {
    title: "Strengthening Exercises",
    exercises: [
      {
        name: "Front + Back Neck Isometric",
        icon: "üßë‚Äçü¶±‚úã‚ÜîÔ∏è",
        description: "Alternate: Push forehead into hands (front), then push back of head into hands (back), hold. 1 rep = front + back.",
        defaultReps: 20, defaultSeconds: 10
      },
      {
        name: "Side Neck Isometric (Left + Right)",
        icon: "<span>üßëü§ö</span><span style='margin-left:-6px;'>ü§öüßë</span>",
        description: "Place hand on left side of head. Push head against hand (no movement), then switch to right side. <br>1 rep = both sides.",
        defaultReps: 10, defaultSeconds: 10
      },
      {
        name: "Shoulder Shrugs",
        icon: "ü§∑",
        description: "Move your shoulders up towards your ears, then relax to original position.",
        defaultReps: 20, defaultSeconds: 5
      },
      {
        name: "Arm Swinging",
        icon: "üí™‚ÜîÔ∏è",
        description: "Move your arms forward and backward as shown (see picture/guide if unsure).",
        defaultReps: 4, defaultSeconds: 10
      }
    ]
  }
];

// --- Beep logic ---
const beep = document.getElementById('beep-sound');

// Unlock audio on first interaction
let audioUnlocked = false;
function unlockAudio() {
  if (!audioUnlocked) {
    beep.muted = true;
    beep.play().catch(()=>{});
    setTimeout(() => {
      beep.pause(); beep.currentTime=0;
      beep.muted = false;
    }, 100);
    audioUnlocked = true;
  }
}
window.addEventListener('mousedown', unlockAudio, {once:true});
window.addEventListener('touchstart', unlockAudio, {once:true});

function playBeep(repeats) {
  let played = 0;
  const interval = setInterval(() => {
    beep.currentTime = 0;
    beep.play();
    played++;
    if (played >= repeats) clearInterval(interval);
  }, 250);
}

// --- UI rendering and timer logic ---
function formatTime(secs) {
  let m = Math.floor(secs/60), s = secs%60;
  return `${m}:${s<10?'0':''}${s}`;
}

const exContainer = document.getElementById('exerciseContainer');
exerciseSections.forEach((sec, secIdx) => {
  const sectionHead = document.createElement('div');
  sectionHead.className = "section-head";
  sectionHead.textContent = sec.title;
  exContainer.appendChild(sectionHead);

  sec.exercises.forEach((ex, idx) => {
    const exBox = document.createElement('div');
    exBox.className = "exercise-box";
    let iconHTML = ex.icon.startsWith('<span') ? ex.icon : `<span>${ex.icon}</span>`;
    exBox.innerHTML = `
      <div class="ex-header">
        <div class="ex-icon">${iconHTML}</div>
        <div class="ex-content">
          <div class="ex-title">${ex.name}</div>
          <div class="ex-desc">${ex.description}</div>
        </div>
      </div>
      <div class="inputs-row">
        <label>Reps:
          <input type="number" min="1" max="99" value="${ex.defaultReps}" id="reps_${secIdx}_${idx}">
        </label>
        <label>Time/Rep (sec):
          <input type="number" min="1" max="99" value="${ex.defaultSeconds}" id="seconds_${secIdx}_${idx}">
        </label>
      </div>
      <div class="btn-row">
        <button class="start"    id="start_${secIdx}_${idx}">Start</button>
        <button class="pause"    id="pause_${secIdx}_${idx}" style="display:none;">Pause</button>
        <button class="resume"   id="resume_${secIdx}_${idx}" style="display:none;">Resume</button>
        <button class="reset"    id="reset_${secIdx}_${idx}"  style="display:none;">Reset</button>
      </div>
      <div class="counter-row">
        <span>Rep: <span class="big-num" id="currRep_${secIdx}_${idx}">0</span>/<span id="maxRep_${secIdx}_${idx}">${ex.defaultReps}</span></span>
        <span>Time: <span class="big-num" id="currSec_${secIdx}_${idx}">0</span>/<span id="maxSec_${secIdx}_${idx}">${ex.defaultSeconds}</span> sec</span>
        <span class="total-time">Total: <span id="totalTime_${secIdx}_${idx}">0:00</span></span>
      </div>
      <div class="progress-txt" id="progressTxt_${secIdx}_${idx}">&nbsp;</div>
    `;
    exContainer.appendChild(exBox);

    let state = {
      running: false, paused: false, finished: false,
      rep: 0, sec: 0, total: 0, interval: null,
      reps: ex.defaultReps, perSec: ex.defaultSeconds,
    };

    const repInp = document.getElementById(`reps_${secIdx}_${idx}`);
    const secInp = document.getElementById(`seconds_${secIdx}_${idx}`);
    const startBtn = document.getElementById(`start_${secIdx}_${idx}`);
    const pauseBtn = document.getElementById(`pause_${secIdx}_${idx}`);
    const resumeBtn = document.getElementById(`resume_${secIdx}_${idx}`);
    const resetBtn = document.getElementById(`reset_${secIdx}_${idx}`);
    const currRep = document.getElementById(`currRep_${secIdx}_${idx}`);
    const maxRep = document.getElementById(`maxRep_${secIdx}_${idx}`);
    const currSec = document.getElementById(`currSec_${secIdx}_${idx}`);
    const maxSec = document.getElementById(`maxSec_${secIdx}_${idx}`);
    const totalTime = document.getElementById(`totalTime_${secIdx}_${idx}`);
    const progressTxt = document.getElementById(`progressTxt_${secIdx}_${idx}`);

    function updateDisplay() {
      currRep.innerText = state.rep;
      maxRep.innerText = state.reps;
      currSec.innerText = state.sec;
      maxSec.innerText = state.perSec;
      totalTime.innerText = formatTime(state.total);
      if(state.finished) {
        progressTxt.innerText = "WELL DONE! Exercise complete.";
        progressTxt.className = "progress-txt danger";
        exBox.classList.remove("active");
      }
      else if(state.rep>=state.reps) {
        progressTxt.innerText = "Completed! Press Reset to repeat.";
        progressTxt.className = "progress-txt warning";
        exBox.classList.remove("active");
      }
      else if(state.running) {
        let left = state.reps - state.rep;
        progressTxt.innerText = left==0 ? "Last rep!" : (left==1 ? "Last one, keep going!" : `Only ${left} left!`);
        progressTxt.className = "progress-txt";
        exBox.classList.add("active");
      } else if(state.paused) {
        progressTxt.innerText = "Paused";
        progressTxt.className = "progress-txt warning";
      } else {
        progressTxt.innerHTML = "&nbsp;";
        progressTxt.className = "progress-txt";
        exBox.classList.remove("active");
      }
    }
    function disableInputs(dis) {
      repInp.disabled = dis;
      secInp.disabled = dis;
    }
    function start() {
      state.reps = parseInt(repInp.value)||1;
      state.perSec = parseInt(secInp.value)||1;
      state.rep = 0; state.sec = 0; state.total=0;
      state.running=true; state.paused=false; state.finished=false;
      disableInputs(true);
      currRep.classList.remove('pulse');
      currSec.classList.remove('pulse');
      updateDisplay();
      startBtn.style.display='none';
      pauseBtn.style.display='';
      resumeBtn.style.display='none';
      resetBtn.style.display='';
      exBox.classList.add("active");
      state.interval = setInterval(() => {
        if(state.paused||state.finished) return;
        state.sec++; state.total++;
        currSec.classList.add('pulse');
        setTimeout(()=>currSec.classList.remove('pulse'),220);
        if(state.sec>=state.perSec) {
          state.sec=0;
          state.rep++;
          currRep.classList.add('pulse');
          setTimeout(()=>currRep.classList.remove('pulse'),200);
          playBeep(1);
          if(state.rep>=state.reps) {
            clearInterval(state.interval); state.interval=null;
            state.running=false; state.finished=true;
            setTimeout(()=>playBeep(7), 350);
          }
        }
        updateDisplay();
      },1000);
    }
    function pause() {
      if(state.running && !state.paused){
        state.paused=true; state.running=false;
        clearInterval(state.interval); state.interval=null;
        pauseBtn.style.display='none'; resumeBtn.style.display='';
        exBox.classList.remove("active");
        updateDisplay();
      }
    }
    function resume() {
      if(state.paused && !state.running){
        state.paused=false; state.running=true;
        pauseBtn.style.display=''; resumeBtn.style.display='none';
        exBox.classList.add("active");
        state.interval = setInterval(() => {
          if(state.paused||state.finished) return;
          state.sec++; state.total++;
          currSec.classList.add('pulse');
          setTimeout(()=>currSec.classList.remove('pulse'),220);
          if(state.sec>=state.perSec) {
            state.sec=0; state.rep++;
            currRep.classList.add('pulse');
            setTimeout(()=>currRep.classList.remove('pulse'),200);
            playBeep(2);
            if(state.rep>=state.reps) {
              clearInterval(state.interval); state.interval=null;
              state.running=false; state.finished=true;
              setTimeout(()=>playBeep(7),350);
            }
          }
          updateDisplay();
        },1000);
        updateDisplay();
      }
    }
    function reset() {
      if(state.interval) {clearInterval(state.interval);}
      state.rep=0; state.sec=0; state.total=0;
      state.running=false; state.paused=false; state.finished=false;
      updateDisplay();
      startBtn.style.display=''; pauseBtn.style.display='none'; resumeBtn.style.display='none'; resetBtn.style.display='none';
      disableInputs(false);
      exBox.classList.remove("active");
    }
    startBtn.onclick = start;
    pauseBtn.onclick = pause;
    resumeBtn.onclick = resume;
    resetBtn.onclick = reset;
    repInp.addEventListener('change', reset);
    secInp.addEventListener('change', reset);
    updateDisplay(); pauseBtn.style.display='none'; resumeBtn.style.display='none'; resetBtn.style.display='none';
  });
});
</script>
</body>
</html>
